import{_ as U}from"./C40JAIGj.js";import{V as H,_ as W,b as A}from"./CZZbiLth.js";import{k as te,r as S,G as oe,l as ie,d as I,o as _,c as L,b as y,e as h,a as P,i as O,t as w,f as b,n as x,j,p as T,af as ne,P as R,F as z,V as K,N,g as re,h as ae,Q as B,R as V,m as le}from"./ZiJhL-97.js";import{a as F}from"./Dnf1K-Wb.js";import{V as J,a as G}from"./v_bx85tt.js";import{V as Y}from"./CkF-J-4T.js";import{a as X,V as Z}from"./BdLhtshP.js";import{_ as se}from"./DlAUqK2U.js";import{V as de,a as ce,b as $,c as ue}from"./BTXhUICE.js";import"./CUUTgYSJ.js";/* empty css        */import"./mD4MdpF7.js";import"./DY7PVvcf.js";import"./DwSj3YEg.js";import"./C-GTDzx5.js";import"./DqIP8d6Y.js";import"./BpLF2UDk.js";import"./Q4kX3nvP.js";import"./CVlHfdek.js";import"./4y7_YXdj.js";const Q=te("siparisler",()=>{const k=S([]),C=S(0),l=S(!1),c=ie(),t=S(""),r=S({page:1,itemsPerPage:100,sortBy:[],sortDesc:[],groupBy:[],depo_id:0,search:"",status:0});async function s(){l.value=!0,t.value="",await c(`/api/orders?page=${r.value.page}&status=${r.value.status}&per_page=${r.value.itemsPerPage}&depo_id=${r.value.depo_id}&search=${r.value.search}`).then(i=>{l.value=!1,k.value=i.data,C.value=i.total}).catch(i=>{l.value=!1,t.value=i.message})}async function d(i){l.value=!0,t.value="",await c("/api/addHakedisItem",{method:"POST",body:{orderID:i}}).then(n=>{l.value=!1}).catch(n=>{l.value=!1,t.value=n.message})}async function p(i){l.value=!0,t.value="",await c("/api/orders/mark-printed",{method:"POST",body:{orderID:i}}).then(n=>{l.value=!1;const o=k.value.find(m=>m.id===i);o&&(o.is_printed=1)}).catch(n=>{l.value=!1,t.value=n.message})}return{confirmedOrders:oe(()=>k.value.filter(i=>i.is_confirmed===1)),totalItems:C,loading:l,options:r,fetchData:s,error:t,orders:k,addHakedis:d,markAsPrinted:p}}),fe={class:"d-flex"},pe={key:0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png",alt:"n11 Logo",class:"logo n11-logo",style:{"inline-size":"50px"}},me={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png",alt:"Hepsiburada Logo",class:"logo",style:{"inline-size":"90px"}},ge={key:2,src:"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg",alt:"Pazarama Logo",class:"logo",style:{"inline-size":"90px"}},ye={class:"d-flex"},he={class:"d-flex flex-column"},be={class:"d-block font-weight-medium text-high-emphasis text-truncate"},ve={class:"d-flex gap-2"},_e=I({__name:"SiparisListesi",setup(k,{expose:C}){const l=Q(),c=S(""),t=S(!1),r=[{title:"S/N",value:"siparisNo"},{title:"Platform",key:"platformId"},{title:"Sipariş Bilgileri",key:"orderDate"},{title:"Müşteri Bilgileri",key:"buyer"},{title:"Ürün Bilgileri",key:"items"},{title:"Kargo Bilgileri",key:"shippingCompanyName"},{title:"Teyitli mi",key:"is_confirmed"},{title:"Aksiyonlar",key:"actions"}],s=S({deger:"",item:0,title:"",message:""}),d=(i,n)=>{s.value.deger=i,s.value.item=n.id,s.value.title="Emin misiniz?",s.value.message="Siparişi onayladığınızda sipariş kalemleri hakedişe düşecek ve sipariş onaylanacaktır.",t.value=!0},p=async i=>{i.deger==="approve_order"&&await l.addHakedis(i.item).then(()=>{t.value=!1,l.options.status=1,l.fetchData()})},a=i=>{l.options.page=i.page??0,l.options.search=i.search??"",l.options.status=1,l.fetchData()};return C({updateOptions:a}),(i,n)=>{const o=U,m=W;return _(),L(Z,null,{default:y(()=>[h(o,{modelValue:P(l).loading,"onUpdate:modelValue":n[0]||(n[0]=f=>P(l).loading=f)},null,8,["modelValue"]),h(m,{modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=f=>t.value=f),deger:s.value.deger,item:s.value.item,title:s.value.title,message:s.value.message,onClickedAgree:p},null,8,["modelValue","deger","item","title","message"]),h(X,{cols:"12",md:"12"},{default:y(()=>[h(F,null,{default:y(()=>[h(H,{headers:r,items:P(l).confirmedOrders,"items-length":P(l).totalItems,loading:P(l).loading,search:c.value,"item-value":"id",class:"text-no-wrap","hide-default-footer":"","onUpdate:options":a},{"item.siparisNo":y(({index:f})=>[O(w(f+1),1)]),"item.platformId":y(({item:f})=>[b("div",fe,[f.platformId===1?(_(),x("img",pe)):j("",!0),f.platformId===2?(_(),x("img",me)):j("",!0),f.platformId===3?(_(),x("img",ge)):j("",!0)])]),"item.orderDate":y(({item:f})=>[b("div",ye,[b("span",null,w(f.orderDate),1)])]),"item.buyer":y(({item:f})=>[b("div",he,[b("span",be,w(f.buyer.fullName),1),b("small",null,w(f.buyer.adresses[0].district)+" / "+w(f.buyer.adresses[0].city),1)])]),"item.items":y(({item:f})=>[h(J,null,{default:y(()=>[(_(!0),x(z,null,T(f.items,e=>(_(),L(G,{key:e.id,subtitle:`${e.product.productCode} X ${e.orderable.quantity}`,title:e.product.productTitle,style:ne(e.product.productCode==="12040144_1"?{color:"red"}:{})},{prepend:y(()=>[h(Y,{color:"grey",rounded:"0",size:"64"},{default:y(()=>[h(R,{src:e.product.cover_image.url},null,8,["src"])]),_:2},1024)]),_:2},1032,["subtitle","title","style"]))),128))]),_:2},1024)]),"item.is_confirmed":y(({item:f})=>[f.is_confirmed===1?(_(),L(K,{key:0,color:"success",icon:"ri-check-line"})):j("",!0)]),"item.actions":y(({item:f})=>[b("div",ve,[h(N,{type:"submit",size:"small",onClick:e=>d("approve_order",f)},{default:y(()=>[O(" Onayla ")]),_:2},1032,["onClick"]),h(N,{type:"submit",size:"small",color:"error"},{default:y(()=>[O(" Reddet ")]),_:1})])]),_:1},8,["items","items-length","loading","search"])]),_:1})]),_:1})]),_:1})}}});var q={exports:{}};(function(k,C){(function(c,t){k.exports=t()})(window,function(){return function(l){var c={};function t(r){if(c[r])return c[r].exports;var s=c[r]={i:r,l:!1,exports:{}};return l[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=l,t.c=c,t.d=function(r,s,d){t.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:d})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,s){if(s&1&&(r=t(r)),s&8||s&4&&typeof r=="object"&&r&&r.__esModule)return r;var d=Object.create(null);if(t.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:r}),s&2&&typeof r!="string")for(var p in r)t.d(d,p,(function(a){return r[a]}).bind(null,p));return d},t.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(s,"a",s),s},t.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},t.p="",t(t.s=0)}({"./src/index.js":function(l,c,t){t.r(c),t("./src/sass/index.scss");var r=t("./src/js/init.js"),s=r.default.init;typeof window<"u"&&(window.printJS=s),c.default=s},"./src/js/browser.js":function(l,c,t){t.r(c);var r={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!d.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};c.default=r},"./src/js/functions.js":function(l,c,t){t.r(c),t.d(c,"addWrapper",function(){return p}),t.d(c,"capitalizePrint",function(){return a}),t.d(c,"collectStyles",function(){return i}),t.d(c,"addHeader",function(){return o}),t.d(c,"cleanUp",function(){return m}),t.d(c,"isRawHTML",function(){return f});var r=t("./src/js/modal.js"),s=t("./src/js/browser.js");function d(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(g){return typeof g}:d=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},d(e)}function p(e,u){var g="font-family:"+u.font+" !important; font-size: "+u.font_size+" !important; width:100%;";return'<div style="'+g+'">'+e+"</div>"}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e,u){for(var g=document.defaultView||window,E="",v=g.getComputedStyle(e,""),M=0;M<v.length;M++)(u.targetStyles.indexOf("*")!==-1||u.targetStyle.indexOf(v[M])!==-1||n(u.targetStyles,v[M]))&&v.getPropertyValue(v[M])&&(E+=v[M]+":"+v.getPropertyValue(v[M])+";");return E+="max-width: "+u.maxWidth+"px !important; font-size: "+u.font_size+" !important;",E}function n(e,u){for(var g=0;g<e.length;g++)if(d(u)==="object"&&u.indexOf(e[g])!==-1)return!0;return!1}function o(e,u){var g=document.createElement("div");if(f(u.header))g.innerHTML=u.header;else{var E=document.createElement("h1"),v=document.createTextNode(u.header);E.appendChild(v),E.setAttribute("style",u.headerStyle),g.appendChild(E)}e.insertBefore(g,e.childNodes[0])}function m(e){e.showModal&&r.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var u="mouseover";(s.default.isChrome()||s.default.isFirefox())&&(u="focus");var g=function E(){window.removeEventListener(u,E),e.onPrintDialogClose();var v=document.getElementById(e.frameId);v&&v.remove()};window.addEventListener(u,g)}function f(e){var u=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return u.test(e)}},"./src/js/html.js":function(l,c,t){t.r(c);var r=t("./src/js/functions.js"),s=t("./src/js/print.js");function d(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(o){return typeof o}:d=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},d(i)}c.default={print:function(n,o){var m=a(n.printable)?n.printable:document.getElementById(n.printable);if(!m){window.console.error("Invalid HTML element id: "+n.printable);return}n.printableElement=p(m,n),n.header&&Object(r.addHeader)(n.printableElement,n),s.default.send(n,o)}};function p(i,n){for(var o=i.cloneNode(),m=Array.prototype.slice.call(i.childNodes),f=0;f<m.length;f++)if(n.ignoreElements.indexOf(m[f].id)===-1){var e=p(m[f],n);o.appendChild(e)}switch(n.scanStyles&&i.nodeType===1&&o.setAttribute("style",Object(r.collectStyles)(i,n)),i.tagName){case"SELECT":o.value=i.value;break;case"CANVAS":o.getContext("2d").drawImage(i,0,0);break}return o}function a(i){return d(i)==="object"&&i&&(i instanceof HTMLElement||i.nodeType===1)}},"./src/js/image.js":function(l,c,t){t.r(c);var r=t("./src/js/functions.js"),s=t("./src/js/print.js"),d=t("./src/js/browser.js");c.default={print:function(a,i){a.printable.constructor!==Array&&(a.printable=[a.printable]),a.printableElement=document.createElement("div"),a.printable.forEach(function(n){var o=document.createElement("img");if(o.setAttribute("style",a.imageStyle),o.src=n,d.default.isFirefox()){var m=o.src;o.src=m}var f=document.createElement("div");f.appendChild(o),a.printableElement.appendChild(f)}),a.header&&Object(r.addHeader)(a.printableElement,a),s.default.send(a,i)}}},"./src/js/init.js":function(l,c,t){t.r(c);var r=t("./src/js/browser.js"),s=t("./src/js/modal.js"),d=t("./src/js/pdf.js"),p=t("./src/js/html.js"),a=t("./src/js/raw-html.js"),i=t("./src/js/image.js"),n=t("./src/js/json.js");function o(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(u){return typeof u}:o=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o(f)}var m=["pdf","html","image","json","raw-html"];c.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(ee){throw ee},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},u=arguments[0];if(u===void 0)throw new Error("printJS expects at least 1 attribute.");switch(o(u)){case"string":e.printable=encodeURI(u),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":e.printable=u.printable,e.fallbackPrintable=typeof u.fallbackPrintable<"u"?u.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable;for(var g in e)g==="printable"||g==="fallbackPrintable"||(e[g]=typeof u[g]<"u"?u[g]:e[g]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+o(u))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||typeof e.type!="string"||m.indexOf(e.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&s.default.show(e),e.onLoadingStart&&e.onLoadingStart();var E=document.getElementById(e.frameId);E&&E.parentNode.removeChild(E);var v=document.createElement("iframe");switch(r.default.isFirefox()?v.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):v.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),v.setAttribute("id",e.frameId),e.type!=="pdf"&&(v.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(D){v.srcdoc+='<link rel="stylesheet" href="'+D+'">'})),v.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var M=window.open(e.fallbackPrintable,"_blank");M.focus(),e.onIncompatibleBrowser()}catch(D){e.onError(D)}finally{e.showModal&&s.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else d.default.print(e,v);break;case"image":i.default.print(e,v);break;case"html":p.default.print(e,v);break;case"raw-html":a.default.print(e,v);break;case"json":n.default.print(e,v);break}}}},"./src/js/json.js":function(l,c,t){t.r(c);var r=t("./src/js/functions.js"),s=t("./src/js/print.js");function d(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(n){return typeof n}:d=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d(a)}c.default={print:function(i,n){if(d(i.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof i.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!i.properties||!Array.isArray(i.properties))throw new Error("Invalid properties array for your JSON data.");i.properties=i.properties.map(function(o){return{field:d(o)==="object"?o.field:o,displayName:d(o)==="object"?o.displayName:o,columnSize:d(o)==="object"&&o.columnSize?o.columnSize+";":100/i.properties.length+"%;"}}),i.printableElement=document.createElement("div"),i.header&&Object(r.addHeader)(i.printableElement,i),i.printableElement.innerHTML+=p(i),s.default.send(i,n)}};function p(a){var i=a.printable,n=a.properties,o='<table style="border-collapse: collapse; width: 100%;">';a.repeatTableHeader&&(o+="<thead>"),o+="<tr>";for(var m=0;m<n.length;m++)o+='<th style="width:'+n[m].columnSize+";"+a.gridHeaderStyle+'">'+Object(r.capitalizePrint)(n[m].displayName)+"</th>";o+="</tr>",a.repeatTableHeader&&(o+="</thead>"),o+="<tbody>";for(var f=0;f<i.length;f++){o+="<tr>";for(var e=0;e<n.length;e++){var u=i[f],g=n[e].field.split(".");if(g.length>1)for(var E=0;E<g.length;E++)u=u[g[E]];else u=u[n[e].field];o+='<td style="width:'+n[e].columnSize+a.gridStyle+'">'+u+"</td>"}o+="</tr>"}return o+="</tbody></table>",o}},"./src/js/modal.js":function(l,c,t){t.r(c);var r={show:function(d){var p="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",a=document.createElement("div");a.setAttribute("style",p),a.setAttribute("id","printJS-Modal");var i=document.createElement("div");i.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var n=document.createElement("div");n.setAttribute("class","printClose"),n.setAttribute("id","printClose"),i.appendChild(n);var o=document.createElement("span");o.setAttribute("class","printSpinner"),i.appendChild(o);var m=document.createTextNode(d.modalMessage);i.appendChild(m),a.appendChild(i),document.getElementsByTagName("body")[0].appendChild(a),document.getElementById("printClose").addEventListener("click",function(){r.close()})},close:function(){var d=document.getElementById("printJS-Modal");d&&d.parentNode.removeChild(d)}};c.default=r},"./src/js/pdf.js":function(l,c,t){t.r(c);var r=t("./src/js/print.js"),s=t("./src/js/functions.js");c.default={print:function(a,i){if(a.base64){var n=Uint8Array.from(atob(a.printable),function(m){return m.charCodeAt(0)});d(a,i,n);return}a.printable=/^(blob|http|\/\/)/i.test(a.printable)?a.printable:window.location.origin+(a.printable.charAt(0)!=="/"?"/"+a.printable:a.printable);var o=new window.XMLHttpRequest;o.responseType="arraybuffer",o.addEventListener("error",function(){Object(s.cleanUp)(a),a.onError(o.statusText,o)}),o.addEventListener("load",function(){if([200,201].indexOf(o.status)===-1){Object(s.cleanUp)(a),a.onError(o.statusText,o);return}d(a,i,o.response)}),o.open("GET",a.printable,!0),o.send()}};function d(p,a,i){var n=new window.Blob([i],{type:"application/pdf"});n=window.URL.createObjectURL(n),a.setAttribute("src",n),r.default.send(p,a)}},"./src/js/print.js":function(l,c,t){t.r(c);var r=t("./src/js/browser.js"),s=t("./src/js/functions.js"),d={send:function(o,m){document.getElementsByTagName("body")[0].appendChild(m);var f=document.getElementById(o.frameId);f.onload=function(){if(o.type==="pdf"){r.default.isFirefox()?setTimeout(function(){return p(f,o)},1e3):p(f,o);return}var e=f.contentWindow||f.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(o.printableElement),o.type!=="pdf"&&o.style){var u=document.createElement("style");u.innerHTML=o.style,e.head.appendChild(u)}var g=e.getElementsByTagName("img");g.length>0?a(Array.from(g)).then(function(){return p(f,o)}):p(f,o)}}};function p(n,o){try{if(n.focus(),r.default.isEdge()||r.default.isIE())try{n.contentWindow.document.execCommand("print",!1,null)}catch{n.contentWindow.print()}else n.contentWindow.print()}catch(m){o.onError(m)}finally{r.default.isFirefox()&&(n.style.visibility="hidden",n.style.left="-1px"),Object(s.cleanUp)(o)}}function a(n){var o=n.map(function(m){if(m.src&&m.src!==window.location.href)return i(m)});return Promise.all(o)}function i(n){return new Promise(function(o){var m=function f(){!n||typeof n.naturalWidth>"u"||n.naturalWidth===0||!n.complete?setTimeout(f,500):o()};m()})}c.default=d},"./src/js/raw-html.js":function(l,c,t){t.r(c);var r=t("./src/js/print.js");c.default={print:function(d,p){d.printableElement=document.createElement("div"),d.printableElement.setAttribute("style","width:100%"),d.printableElement.innerHTML=d.printable,r.default.send(d,p)}}},"./src/sass/index.scss":function(l,c,t){},0:function(l,c,t){l.exports=t("./src/index.js")}}).default})})(q);var Ee=q.exports;const we=re(Ee),xe={class:"header"},Se={class:"customer-name"},ke={class:"location"},Ce={class:"shipping-logo-container"},Pe=["src"],je={class:"logos"},Me={key:0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png",alt:"n11 Logo",class:"logo n11-logo"},Oe={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png",alt:"Hepsiburada Logo",class:"logo"},De={key:2,src:"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg",alt:"Pazarama Logo",class:"logo"},Le={class:"barcode"},Ie=["src"],Te={class:"footer"},ze={class:"stock-code"},Ae=I({__name:"Yazdir",props:{platform:{},customerName:{},city:{},district:{},shippingCompanyName:{},barcodeNumber:{},orderId:{},items:{}},emits:["printDone"],setup(k,{emit:C}){const l=k,c=C,t=`${l.shippingCompanyName.toUpperCase()} `.repeat(500);function r(){return{"sürat kargo":"https://galeri12.uludagsozluk.com/590/surat-kargo_620735.png","yurtiçi kargo":"https://upload.wikimedia.org/wikipedia/tr/a/a6/YurticiKargo_Logo.gif","mng kargo":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/MNG_Cargo_logo.svg/320px-MNG_Cargo_logo.svg.png",mng:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/MNG_Cargo_logo.svg/320px-MNG_Cargo_logo.svg.png"}[l.shippingCompanyName.toLowerCase()]||""}const s=function(){c("printDone",l.orderId)};function d(){const p=l.items.map(a=>`
    <div class="label">
      <div class="header">
        <p class="customer-name">${l.customerName}</p>
        <p class="location">${l.city} / ${l.district}</p>
      </div>
      <div class="shipping-logo-container">
     
        <img src="${r()}" alt="Kargo Firması Logo" class="shipping-logo" />
       </div>
       
      <div class="logos">
        <img src="${l.platform==="n11"?"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png":l.platform==="hepsiburada"?"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png":l.platform==="pazarama"?"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg":""}" alt="Platform Logo" class="logo ${l.platform==="n11"?"n11-logo":""}" />
      </div>
      <div class="barcode">
        <img src="https://barcode.tec-it.com/barcode.ashx?data=${l.barcodeNumber}&code=Code128" alt="Barkod" />
      </div>
      <div class="footer">
        <p class="stock-code">Stok Kodu: ${a.product.productCode}</p>
      </div>
    </div>
  `).join("");we({printable:p,type:"raw-html",onPrintDialogClose:s,targetStyles:["*"],style:`
      @page {
        size: 10.4cm 10.4cm; /* Sayfa boyutu ayarı */
        margin: 0; /* Kenar boşluklarını sıfırlama */
      }
      .label {
  display: flex;
  box-sizing: border-box; /* Kenar boşluklarını ve içeriği doğru bir şekilde hesaplamak için */
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  border: 1px solid black; /* Kenarlık (isteğe bağlı) */
  block-size: 10cm; /* İçerik alanı */
  font-family: Arial, sans-serif;
  inline-size: 10cm; /* İçerik alanı */
  margin-bottom:0.35cm;
  width: 10cm;
  height: 10cm;
  position: relative; /* Pseudo-element konumlandırma için gerekli */
  overflow: hidden; /* Taşmaları önlemek için */
}

.label::before {
  content: '${t}'; /* Watermark metni */
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%; /* Genişliği artırarak tüm arka plana yayılır */
  height: 200%; /* Yüksekliği artırarak tüm arka plana yayılır */
  transform: rotate(-45deg); /* Ortala ve döndür */
  font-size: 1.2rem;
  color: rgba(0, 0, 0, 0.1); /* Şeffaflık ayarı */
  z-index: 1; /* Diğer içeriklerin altında kalması için */
  pointer-events: none; /* Tıklanamaz hale getir */
}

.header {
  margin-block: 0.5cm 0.5cm /* Müşteri bilgilerini 0.5 cm aşağı kaydır */
}

.header,
.barcode,
.shipping-logo-container {
  position: relative; /* Üstte kalması için */
  z-index: 2; /* Watermark altında */
}



.customer-name {
  padding: 0;
  margin: 0;
  font-size: 1em;
}

.location {
  padding: 0;
  margin: 0;
  font-size: 0.8em;
}

.logos {
  display: flex;
  justify-content: center;
  padding: 0;
  margin: 0;
}

.logo {
  margin: 0;
  block-size: auto;
  inline-size: 120px; /* Platform logosunun boyutunu ayarlayın */
}

.n11-logo {
  inline-size: 70px;
}

.shipping-logo-container {
  display: flex;
  justify-content: center;
  padding: 0;
  margin: 0;
   width: 100%;
  margin-block-start: 0.5cm; /* Kargo logosu için üstten boşluk */
}

.shipping-logo {
  margin: 0;
  max-width: 100%;
  block-size: auto;
  inline-size: 250px; /* Kargo firmasının logosunun boyutunu ayarlayın */
 
}

.barcode {
  padding: 0;
  margin: 0;
  text-align: center;
}

.barcode img {
  block-size: auto; /* Barkod boyutunu ayarlayın */
  max-inline-size: 100%;
}

.footer {
  text-align: center;
}

.stock-code {
  padding: 0;
  margin: 0;
  font-size: 0.8em;
}
    `,scanStyles:!1,honorMarginPadding:!1})}return(p,a)=>(_(),x("div",null,[(_(!0),x(z,null,T(p.items,(i,n)=>(_(),x("div",{key:n,class:"label",style:{display:"none"}},[b("div",xe,[b("p",Se,w(p.customerName),1),b("p",ke,w(p.city)+" / "+w(p.district),1)]),b("div",Ce,[b("img",{src:r(),alt:"Kargo Firması Logo",class:"shipping-logo"},null,8,Pe)]),b("div",je,[p.platform==="n11"?(_(),x("img",Me)):j("",!0),p.platform==="hepsiburada"?(_(),x("img",Oe)):j("",!0),p.platform==="pazarama"?(_(),x("img",De)):j("",!0)]),b("div",Le,[b("img",{src:`https://barcode.tec-it.com/barcode.ashx?data=${p.barcodeNumber}&code=Code128`,alt:"Barkod"},null,8,Ie)]),b("div",Te,[b("p",ze," Stok Kodu: "+w(i.product.productCode),1)])]))),128)),b("a",{href:"#",class:"print-link",onClick:ae(d,["prevent"])}," Etiket Yazdır")]))}}),Ne=se(Ae,[["__scopeId","data-v-adf61327"]]),Be={class:"d-flex"},Ve={key:0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png",alt:"n11 Logo",class:"logo n11-logo",style:{"inline-size":"50px"}},$e={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png",alt:"Hepsiburada Logo",class:"logo",style:{"inline-size":"90px"}},Ue={key:2,src:"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg",alt:"Pazarama Logo",class:"logo",style:{"inline-size":"90px"}},He={class:"d-flex"},We={class:"d-flex flex-column"},Re={class:"d-block font-weight-medium text-high-emphasis text-truncate"},Ke={class:"d-flex flex-column"},Fe={class:"d-block font-weight-small text-high-emphasis text-truncate",style:{"font-size":"14px"}},Je={style:{"margin-block-end":"0"}},Ge={style:{"margin-block-end":"5px"}},Ye={class:"d-flex flex-column mt-1"},Xe=I({__name:"SiparisListesiSecond",setup(k,{expose:C}){const l=Q(),c=S(""),t=S(!1),r=[{title:"S/N",value:"siparisNo"},{title:"Platform",key:"platformId"},{title:"Sipariş Bilgileri",key:"orderDate"},{title:"Müşteri Bilgileri",key:"buyer"},{title:"Ürün Bilgileri",key:"items"},{title:"Kargo Bilgileri",key:"shippingCompanyName"}],s=S({deger:"",item:0,title:"",message:""}),d=async i=>{i.deger==="approve_order"&&await l.addHakedis(i.item).then(()=>{t.value=!1,l.options.status=1,l.fetchData()})},p=i=>{l.options.page=i.page??0,l.options.search=i.search??"",l.options.status=2,l.fetchData()},a=i=>{l.markAsPrinted(i)};return C({updateDataTable:p}),(i,n)=>{const o=U,m=W,f=Ne;return _(),L(Z,null,{default:y(()=>[h(o,{modelValue:P(l).loading,"onUpdate:modelValue":n[0]||(n[0]=e=>P(l).loading=e)},null,8,["modelValue"]),h(m,{modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=e=>t.value=e),deger:s.value.deger,item:s.value.item,title:s.value.title,message:s.value.message,onClickedAgree:d},null,8,["modelValue","deger","item","title","message"]),h(X,{cols:"12",md:"12"},{default:y(()=>[h(F,null,{default:y(()=>[h(H,{headers:r,items:P(l).confirmedOrders,"items-length":P(l).totalItems,loading:P(l).loading,search:c.value,"item-value":"id",class:"text-no-wrap","hide-default-footer":"","onUpdate:options":p},{"item.siparisNo":y(({index:e})=>[O(w(e+1),1)]),"item.platformId":y(({item:e})=>[b("div",Be,[e.platformId===1?(_(),x("img",Ve)):j("",!0),e.platformId===2?(_(),x("img",$e)):j("",!0),e.platformId===3?(_(),x("img",Ue)):j("",!0)])]),"item.orderDate":y(({item:e})=>[b("div",He,[b("span",null,w(e.orderDate),1)])]),"item.buyer":y(({item:e})=>[b("div",We,[b("span",Re,w(e.buyer.fullName),1),b("small",null,w(e.buyer.adresses[0].district)+" / "+w(e.buyer.adresses[0].city),1)])]),"item.items":y(({item:e})=>[h(J,null,{default:y(()=>[(_(!0),x(z,null,T(e.items,u=>(_(),L(G,{key:u.id,subtitle:`${u.product.productCode} X ${u.orderable.quantity}`,title:u.product.productTitle},{prepend:y(()=>[h(Y,{color:"grey",rounded:"0",size:"64"},{default:y(()=>[h(R,{src:u.product.cover_image.url},null,8,["src"])]),_:2},1024)]),_:2},1032,["subtitle","title"]))),128))]),_:2},1024)]),"item.shippingCompanyName":y(({item:e})=>[b("div",Ke,[b("span",Fe,w(e.shippingCompanyName),1),b("small",Je,[h(A,{elevated:"",color:"success",size:"small",class:"mt-1",label:""},{default:y(()=>[O(w(e.campaignNumber),1)]),_:2},1024)]),B(b("small",Ge,[h(A,{elevated:"",color:"error",class:"font-weight-medium mt-2",size:"small",label:""},{default:y(()=>[O(" Kontrol Edilecek ")]),_:1})],512),[[V,e.is_printed===1]]),b("div",Ye,[B(h(f,{platform:e.platformId===1?"n11":e.platformId===2?"hepsiburada":e.platformId===3?"pazarama":"",district:e.buyer.adresses[0].district,city:e.buyer.adresses[0].city,"shipping-company-name":e.shippingCompanyName,"barcode-number":e.campaignNumber,"customer-name":e.buyer.fullName,items:e.items,"order-id":e.id,onPrintDone:a},null,8,["platform","district","city","shipping-company-name","barcode-number","customer-name","items","order-id"]),[[V,e.is_printed===0]])])])]),_:1},8,["items","items-length","loading","search"])]),_:1})]),_:1})]),_:1})}}}),ht=I({__name:"siparisler",setup(k){const C=le(),l=S(C.params.tab),c=S(),t=S(),r=[{tab:"account",title:"Yeni Siparişler",icon:"ri-group-line"},{tab:"security",title:"Kargolanacak Siparişler (Onaylanmış)",icon:"ri-lock-line"}],s=d=>{d==="account"&&c.value.updateOptions({page:1,itemsPerPage:100,sortBy:[],sortDesc:[],groupBy:[],depo_id:0,search:"",status:1}),d==="security"&&t.value.updateDataTable({page:1,itemsPerPage:100,sortBy:[],sortDesc:[],groupBy:[],depo_id:0,search:"",status:2})};return(d,p)=>(_(),x("div",null,[h(ce,{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=a=>l.value=a),"show-arrows":""},{default:y(()=>[(_(),x(z,null,T(r,a=>h(de,{key:a.icon,value:a.tab,onClick:i=>s(a.tab)},{default:y(()=>[h(K,{size:"20",start:"",icon:a.icon},null,8,["icon"]),O(" "+w(a.title),1)]),_:2},1032,["value","onClick"])),64))]),_:1},8,["modelValue"]),h(ue,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=a=>l.value=a),class:"mt-5 disable-tab-transition",disabled:""},{default:y(()=>[h($,{value:"account"},{default:y(()=>[h(_e,{ref_key:"siparisListesi",ref:c},null,512)]),_:1}),h($,{value:"security"},{default:y(()=>[h(Xe,{ref_key:"siparisListesiSecond",ref:t},null,512)]),_:1})]),_:1},8,["modelValue"])]))}});export{ht as default};
