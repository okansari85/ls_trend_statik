import{_ as W}from"./DUqya9nv.js";import{V as R,_ as F,b as V}from"./jMlfiw7-.js";import{k as ie,r as x,G as ne,l as re,d as I,o as _,c as D,b as y,e as h,a as O,i as M,t as E,f as v,n as w,j,p as z,af as ae,P as J,F as A,V as G,N as K,g as le,Q as B,R as N,h as Y,ag as se,ah as de,m as ce}from"./BiA69APV.js";import{a as $,d as ue,V as fe}from"./DOqagSym.js";import{V as X,a as Z}from"./CjjadSEB.js";import{V as Q}from"./BzT1ceL5.js";import{a as T,V as U}from"./BBTH9JHG.js";import{_ as q}from"./DlAUqK2U.js";import{V as pe,a as me}from"./C3qoybT_.js";import{V as ge,a as ye,b as H,c as he}from"./C0FL9qJp.js";import"./D9d3Ml6F.js";/* empty css        */import"./CkKzIpi-.js";import"./DY7PVvcf.js";import"./DMRShCUG.js";import"./C-GTDzx5.js";import"./DhpgXDpv.js";import"./DxKn998D.js";import"./CLuq1vPV.js";import"./DjRuP7IB.js";const ee=ie("siparisler",()=>{const S=x([]),P=x(0),n=x(!1),u=re(),o=x(""),r=x({page:1,itemsPerPage:100,sortBy:[],sortDesc:[],groupBy:[],depo_id:0,search:"",status:0});async function s(){n.value=!0,o.value="",await u(`/api/orders?page=${r.value.page}&status=${r.value.status}&per_page=${r.value.itemsPerPage}&depo_id=${r.value.depo_id}&search=${r.value.search}`).then(i=>{n.value=!1,S.value=i.data,P.value=i.total}).catch(i=>{n.value=!1,o.value=i.message})}async function c(i){n.value=!0,o.value="",await u("/api/addHakedisItem",{method:"POST",body:{orderID:i}}).then(t=>{n.value=!1}).catch(t=>{n.value=!1,o.value=t.message})}async function p(i){n.value=!0,o.value="",await u("/api/orders/mark-printed",{method:"POST",body:{orderID:i}}).then(t=>{n.value=!1;const g=S.value.find(d=>d.id===i);g&&(g.is_printed=1)}).catch(t=>{n.value=!1,o.value=t.message})}async function a(i){n.value=!0,o.value="",await u("/api/orders/mark-as-checked",{method:"POST",body:{productCode:i}}).then(t=>{n.value=!1;const g=S.value.find(d=>d.id===t.order_id);g&&(g.is_checked=t.is_checked,g.is_checked_count=t.is_checked_count)}).catch(t=>{n.value=!1,o.value=t.response._data.message})}return{confirmedOrders:ne(()=>S.value.filter(i=>i.is_confirmed===1)),totalItems:P,loading:n,options:r,fetchData:s,error:o,orders:S,addHakedis:c,markAsPrinted:p,markAsChecked:a}}),be={class:"d-flex"},ve={key:0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png",alt:"n11 Logo",class:"logo n11-logo",style:{"inline-size":"50px"}},_e={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png",alt:"Hepsiburada Logo",class:"logo",style:{"inline-size":"90px"}},Ee={key:2,src:"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg",alt:"Pazarama Logo",class:"logo",style:{"inline-size":"90px"}},ke={class:"d-flex"},we={class:"d-flex flex-column"},Ce={class:"d-block font-weight-medium text-high-emphasis text-truncate"},xe={class:"title_class pa-0 ma-0"},Se={key:0,class:"title_class",style:{padding:"0",color:"red"}},Pe={class:"d-flex gap-2"},je=I({__name:"SiparisListesi",setup(S,{expose:P}){const n=ee(),u=x(""),o=x(!1),r=[{title:"S/N",value:"siparisNo"},{title:"Platform",key:"platformId"},{title:"Sipariş Bilgileri",key:"orderDate"},{title:"Müşteri Bilgileri",key:"buyer"},{title:"Ürün Bilgileri",key:"items"},{title:"Kargo Bilgileri",key:"shippingCompanyName"},{title:"Teyitli mi",key:"is_confirmed"},{title:"Aksiyonlar",key:"actions"}],s=x({deger:"",item:0,title:"",message:""}),c=(l,i)=>{s.value.deger=l,s.value.item=i.id,s.value.title="Emin misiniz?",s.value.message="Siparişi onayladığınızda sipariş kalemleri hakedişe düşecek ve sipariş onaylanacaktır.",o.value=!0},p=async l=>{l.deger==="approve_order"&&await n.addHakedis(l.item).then(()=>{o.value=!1,n.options.status=1,n.fetchData()})},a=l=>{n.options.page=l.page??0,n.options.search=l.search??"",n.options.status=1,n.fetchData()};return P({updateOptions:a}),(l,i)=>{const t=W,g=F;return _(),D(U,null,{default:y(()=>[h(t,{modelValue:O(n).loading,"onUpdate:modelValue":i[0]||(i[0]=d=>O(n).loading=d)},null,8,["modelValue"]),h(g,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=d=>o.value=d),deger:s.value.deger,item:s.value.item,title:s.value.title,message:s.value.message,onClickedAgree:p},null,8,["modelValue","deger","item","title","message"]),h(T,{cols:"12",md:"12"},{default:y(()=>[h($,null,{default:y(()=>[h(R,{headers:r,items:O(n).confirmedOrders,"items-length":O(n).totalItems,loading:O(n).loading,search:u.value,"item-value":"id",class:"text-no-wrap","hide-default-footer":"","onUpdate:options":a},{"item.siparisNo":y(({index:d})=>[M(E(d+1),1)]),"item.platformId":y(({item:d})=>[v("div",be,[d.platformId===1?(_(),w("img",ve)):j("",!0),d.platformId===2?(_(),w("img",_e)):j("",!0),d.platformId===3?(_(),w("img",Ee)):j("",!0)])]),"item.orderDate":y(({item:d})=>[v("div",ke,[v("span",null,E(d.orderDate),1)])]),"item.buyer":y(({item:d})=>[v("div",we,[v("span",Ce,E(d.buyer.fullName),1),v("small",null,E(d.buyer.adresses[0].district)+" / "+E(d.buyer.adresses[0].city),1)])]),"item.items":y(({item:d})=>[h(X,null,{default:y(()=>[(_(!0),w(A,null,z(d.items,e=>(_(),D(Z,{key:e.id,title:e.product.productTitle,style:ae(e.product.productCode==="12040144_1"?{color:"red"}:{})},{prepend:y(()=>[h(Q,{color:"grey",rounded:"0",size:"64"},{default:y(()=>[h(J,{src:e.product.cover_image.url},null,8,["src"])]),_:2},1024)]),default:y(()=>[h(ue,{style:{"padding-block":"0, !important","padding-inline":"im !important"}},{default:y(()=>[v("div",xe,E(e.product.productCode)+" x "+E(e.orderable.quantity),1),d.status===5?(_(),w("div",Se," Geciken Kargolama ")):j("",!0)]),_:2},1024)]),_:2},1032,["title","style"]))),128))]),_:2},1024)]),"item.is_confirmed":y(({item:d})=>[d.is_confirmed===1?(_(),D(G,{key:0,color:"success",icon:"ri-check-line"})):j("",!0)]),"item.actions":y(({item:d})=>[v("div",Pe,[h(K,{type:"submit",size:"small",onClick:e=>c("approve_order",d)},{default:y(()=>[M(" Onayla ")]),_:2},1032,["onClick"]),h(K,{type:"submit",size:"small",color:"error"},{default:y(()=>[M(" Reddet ")]),_:1})])]),_:1},8,["items","items-length","loading","search"])]),_:1})]),_:1})]),_:1})}}}),Oe=q(je,[["__scopeId","data-v-d7f81b4e"]]);var te={exports:{}};(function(S,P){(function(u,o){S.exports=o()})(window,function(){return function(n){var u={};function o(r){if(u[r])return u[r].exports;var s=u[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=u,o.d=function(r,s,c){o.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:c})},o.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,s){if(s&1&&(r=o(r)),s&8||s&4&&typeof r=="object"&&r&&r.__esModule)return r;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:r}),s&2&&typeof r!="string")for(var p in r)o.d(c,p,(function(a){return r[a]}).bind(null,p));return c},o.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(s,"a",s),s},o.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},o.p="",o(o.s=0)}({"./src/index.js":function(n,u,o){o.r(u),o("./src/sass/index.scss");var r=o("./src/js/init.js"),s=r.default.init;typeof window<"u"&&(window.printJS=s),u.default=s},"./src/js/browser.js":function(n,u,o){o.r(u);var r={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!c.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};u.default=r},"./src/js/functions.js":function(n,u,o){o.r(u),o.d(u,"addWrapper",function(){return p}),o.d(u,"capitalizePrint",function(){return a}),o.d(u,"collectStyles",function(){return l}),o.d(u,"addHeader",function(){return t}),o.d(u,"cleanUp",function(){return g}),o.d(u,"isRawHTML",function(){return d});var r=o("./src/js/modal.js"),s=o("./src/js/browser.js");function c(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(b){return typeof b}:c=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},c(e)}function p(e,m){var b="font-family:"+m.font+" !important; font-size: "+m.font_size+" !important; width:100%;";return'<div style="'+b+'">'+e+"</div>"}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,m){for(var b=document.defaultView||window,k="",f=b.getComputedStyle(e,""),C=0;C<f.length;C++)(m.targetStyles.indexOf("*")!==-1||m.targetStyle.indexOf(f[C])!==-1||i(m.targetStyles,f[C]))&&f.getPropertyValue(f[C])&&(k+=f[C]+":"+f.getPropertyValue(f[C])+";");return k+="max-width: "+m.maxWidth+"px !important; font-size: "+m.font_size+" !important;",k}function i(e,m){for(var b=0;b<e.length;b++)if(c(m)==="object"&&m.indexOf(e[b])!==-1)return!0;return!1}function t(e,m){var b=document.createElement("div");if(d(m.header))b.innerHTML=m.header;else{var k=document.createElement("h1"),f=document.createTextNode(m.header);k.appendChild(f),k.setAttribute("style",m.headerStyle),b.appendChild(k)}e.insertBefore(b,e.childNodes[0])}function g(e){e.showModal&&r.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var m="mouseover";(s.default.isChrome()||s.default.isFirefox())&&(m="focus");var b=function k(){window.removeEventListener(m,k),e.onPrintDialogClose();var f=document.getElementById(e.frameId);f&&f.remove()};window.addEventListener(m,b)}function d(e){var m=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return m.test(e)}},"./src/js/html.js":function(n,u,o){o.r(u);var r=o("./src/js/functions.js"),s=o("./src/js/print.js");function c(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(t){return typeof t}:c=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(l)}u.default={print:function(i,t){var g=a(i.printable)?i.printable:document.getElementById(i.printable);if(!g){window.console.error("Invalid HTML element id: "+i.printable);return}i.printableElement=p(g,i),i.header&&Object(r.addHeader)(i.printableElement,i),s.default.send(i,t)}};function p(l,i){for(var t=l.cloneNode(),g=Array.prototype.slice.call(l.childNodes),d=0;d<g.length;d++)if(i.ignoreElements.indexOf(g[d].id)===-1){var e=p(g[d],i);t.appendChild(e)}switch(i.scanStyles&&l.nodeType===1&&t.setAttribute("style",Object(r.collectStyles)(l,i)),l.tagName){case"SELECT":t.value=l.value;break;case"CANVAS":t.getContext("2d").drawImage(l,0,0);break}return t}function a(l){return c(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(n,u,o){o.r(u);var r=o("./src/js/functions.js"),s=o("./src/js/print.js"),c=o("./src/js/browser.js");u.default={print:function(a,l){a.printable.constructor!==Array&&(a.printable=[a.printable]),a.printableElement=document.createElement("div"),a.printable.forEach(function(i){var t=document.createElement("img");if(t.setAttribute("style",a.imageStyle),t.src=i,c.default.isFirefox()){var g=t.src;t.src=g}var d=document.createElement("div");d.appendChild(t),a.printableElement.appendChild(d)}),a.header&&Object(r.addHeader)(a.printableElement,a),s.default.send(a,l)}}},"./src/js/init.js":function(n,u,o){o.r(u);var r=o("./src/js/browser.js"),s=o("./src/js/modal.js"),c=o("./src/js/pdf.js"),p=o("./src/js/html.js"),a=o("./src/js/raw-html.js"),l=o("./src/js/image.js"),i=o("./src/js/json.js");function t(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(d)}var g=["pdf","html","image","json","raw-html"];u.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(oe){throw oe},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},m=arguments[0];if(m===void 0)throw new Error("printJS expects at least 1 attribute.");switch(t(m)){case"string":e.printable=encodeURI(m),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":e.printable=m.printable,e.fallbackPrintable=typeof m.fallbackPrintable<"u"?m.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable;for(var b in e)b==="printable"||b==="fallbackPrintable"||(e[b]=typeof m[b]<"u"?m[b]:e[b]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+t(m))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||typeof e.type!="string"||g.indexOf(e.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&s.default.show(e),e.onLoadingStart&&e.onLoadingStart();var k=document.getElementById(e.frameId);k&&k.parentNode.removeChild(k);var f=document.createElement("iframe");switch(r.default.isFirefox()?f.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):f.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),f.setAttribute("id",e.frameId),e.type!=="pdf"&&(f.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(L){f.srcdoc+='<link rel="stylesheet" href="'+L+'">'})),f.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var C=window.open(e.fallbackPrintable,"_blank");C.focus(),e.onIncompatibleBrowser()}catch(L){e.onError(L)}finally{e.showModal&&s.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else c.default.print(e,f);break;case"image":l.default.print(e,f);break;case"html":p.default.print(e,f);break;case"raw-html":a.default.print(e,f);break;case"json":i.default.print(e,f);break}}}},"./src/js/json.js":function(n,u,o){o.r(u);var r=o("./src/js/functions.js"),s=o("./src/js/print.js");function c(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(i){return typeof i}:c=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},c(a)}u.default={print:function(l,i){if(c(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(t){return{field:c(t)==="object"?t.field:t,displayName:c(t)==="object"?t.displayName:t,columnSize:c(t)==="object"&&t.columnSize?t.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(r.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=p(l),s.default.send(l,i)}};function p(a){var l=a.printable,i=a.properties,t='<table style="border-collapse: collapse; width: 100%;">';a.repeatTableHeader&&(t+="<thead>"),t+="<tr>";for(var g=0;g<i.length;g++)t+='<th style="width:'+i[g].columnSize+";"+a.gridHeaderStyle+'">'+Object(r.capitalizePrint)(i[g].displayName)+"</th>";t+="</tr>",a.repeatTableHeader&&(t+="</thead>"),t+="<tbody>";for(var d=0;d<l.length;d++){t+="<tr>";for(var e=0;e<i.length;e++){var m=l[d],b=i[e].field.split(".");if(b.length>1)for(var k=0;k<b.length;k++)m=m[b[k]];else m=m[i[e].field];t+='<td style="width:'+i[e].columnSize+a.gridStyle+'">'+m+"</td>"}t+="</tr>"}return t+="</tbody></table>",t}},"./src/js/modal.js":function(n,u,o){o.r(u);var r={show:function(c){var p="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",a=document.createElement("div");a.setAttribute("style",p),a.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),l.appendChild(i);var t=document.createElement("span");t.setAttribute("class","printSpinner"),l.appendChild(t);var g=document.createTextNode(c.modalMessage);l.appendChild(g),a.appendChild(l),document.getElementsByTagName("body")[0].appendChild(a),document.getElementById("printClose").addEventListener("click",function(){r.close()})},close:function(){var c=document.getElementById("printJS-Modal");c&&c.parentNode.removeChild(c)}};u.default=r},"./src/js/pdf.js":function(n,u,o){o.r(u);var r=o("./src/js/print.js"),s=o("./src/js/functions.js");u.default={print:function(a,l){if(a.base64){var i=Uint8Array.from(atob(a.printable),function(g){return g.charCodeAt(0)});c(a,l,i);return}a.printable=/^(blob|http|\/\/)/i.test(a.printable)?a.printable:window.location.origin+(a.printable.charAt(0)!=="/"?"/"+a.printable:a.printable);var t=new window.XMLHttpRequest;t.responseType="arraybuffer",t.addEventListener("error",function(){Object(s.cleanUp)(a),a.onError(t.statusText,t)}),t.addEventListener("load",function(){if([200,201].indexOf(t.status)===-1){Object(s.cleanUp)(a),a.onError(t.statusText,t);return}c(a,l,t.response)}),t.open("GET",a.printable,!0),t.send()}};function c(p,a,l){var i=new window.Blob([l],{type:"application/pdf"});i=window.URL.createObjectURL(i),a.setAttribute("src",i),r.default.send(p,a)}},"./src/js/print.js":function(n,u,o){o.r(u);var r=o("./src/js/browser.js"),s=o("./src/js/functions.js"),c={send:function(t,g){document.getElementsByTagName("body")[0].appendChild(g);var d=document.getElementById(t.frameId);d.onload=function(){if(t.type==="pdf"){r.default.isFirefox()?setTimeout(function(){return p(d,t)},1e3):p(d,t);return}var e=d.contentWindow||d.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(t.printableElement),t.type!=="pdf"&&t.style){var m=document.createElement("style");m.innerHTML=t.style,e.head.appendChild(m)}var b=e.getElementsByTagName("img");b.length>0?a(Array.from(b)).then(function(){return p(d,t)}):p(d,t)}}};function p(i,t){try{if(i.focus(),r.default.isEdge()||r.default.isIE())try{i.contentWindow.document.execCommand("print",!1,null)}catch{i.contentWindow.print()}else i.contentWindow.print()}catch(g){t.onError(g)}finally{r.default.isFirefox()&&(i.style.visibility="hidden",i.style.left="-1px"),Object(s.cleanUp)(t)}}function a(i){var t=i.map(function(g){if(g.src&&g.src!==window.location.href)return l(g)});return Promise.all(t)}function l(i){return new Promise(function(t){var g=function d(){!i||typeof i.naturalWidth>"u"||i.naturalWidth===0||!i.complete?setTimeout(d,500):t()};g()})}u.default=c},"./src/js/raw-html.js":function(n,u,o){o.r(u);var r=o("./src/js/print.js");u.default={print:function(c,p){c.printableElement=document.createElement("div"),c.printableElement.setAttribute("style","width:100%"),c.printableElement.innerHTML=c.printable,r.default.send(c,p)}}},"./src/sass/index.scss":function(n,u,o){},0:function(n,u,o){n.exports=o("./src/index.js")}}).default})})(te);var Me=te.exports;const Le=le(Me),De={class:"header"},Te={class:"customer-name"},Ie={class:"location"},ze={class:"shipping-logo-container"},Ae=["src"],Be={class:"logos"},Ne={key:0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png",alt:"n11 Logo",class:"logo n11-logo"},Ve={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png",alt:"Hepsiburada Logo",class:"logo"},$e={key:2,src:"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg",alt:"Pazarama Logo",class:"logo"},Ue={class:"barcode"},Ke=["src"],He={class:"footer"},We={class:"stock-code"},Re={style:{"margin-block-end":"5px"}},Fe={class:"mt-1"},Je=I({__name:"Yazdir",props:{platform:{},customerName:{},isPrinted:{},city:{},district:{},shippingCompanyName:{},barcodeNumber:{},itemCheckedCount:{},orderChecked:{},orderId:{},items:{}},emits:["printDone"],setup(S,{emit:P}){const n=S,u=P,o=`${n.shippingCompanyName.toUpperCase()} `.repeat(500);function r(){return{"sürat kargo":"https://galeri12.uludagsozluk.com/590/surat-kargo_620735.png","yurtiçi kargo":"https://upload.wikimedia.org/wikipedia/tr/a/a6/YurticiKargo_Logo.gif","mng kargo":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/MNG_Cargo_logo.svg/320px-MNG_Cargo_logo.svg.png",mng:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/MNG_Cargo_logo.svg/320px-MNG_Cargo_logo.svg.png"}[n.shippingCompanyName.toLowerCase()]||""}const s=function(){u("printDone",n.orderId)};function c(){const p=n.items.map(a=>`
    <div class="label">
      <div class="header">
        <p class="customer-name">${n.customerName}</p>
        <p class="location">${n.city} / ${n.district}</p>
      </div>
      <div class="shipping-logo-container">
     
        <img src="${r()}" alt="Kargo Firması Logo" class="shipping-logo" />
       </div>
       
      <div class="logos">
        <img src="${n.platform==="n11"?"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png":n.platform==="hepsiburada"?"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png":n.platform==="pazarama"?"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg":""}" alt="Platform Logo" class="logo ${n.platform==="n11"?"n11-logo":""}" />
      </div>
      <div class="barcode">
        <img src="https://barcode.tec-it.com/barcode.ashx?data=${n.barcodeNumber}&code=Code128" alt="Barkod" />
      </div>
      <div class="footer">
        <p class="stock-code">Stok Kodu: ${a.product.productCode}</p>
      </div>
    </div>
  `).join("");Le({printable:p,type:"raw-html",onPrintDialogClose:s,targetStyles:["*"],style:`
      @page {
        size: 10.4cm 10.4cm; /* Sayfa boyutu ayarı */
        margin: 0; /* Kenar boşluklarını sıfırlama */
      }
      .label {
  display: flex;
  box-sizing: border-box; /* Kenar boşluklarını ve içeriği doğru bir şekilde hesaplamak için */
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  border: 1px solid black; /* Kenarlık (isteğe bağlı) */
  block-size: 10cm; /* İçerik alanı */
  font-family: Arial, sans-serif;
  inline-size: 10cm; /* İçerik alanı */
  margin-bottom:0.35cm;
  width: 10cm;
  height: 10cm;
  position: relative; /* Pseudo-element konumlandırma için gerekli */
  overflow: hidden; /* Taşmaları önlemek için */
}

.label::before {
  content: '${o}'; /* Watermark metni */
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%; /* Genişliği artırarak tüm arka plana yayılır */
  height: 200%; /* Yüksekliği artırarak tüm arka plana yayılır */
  transform: rotate(-45deg); /* Ortala ve döndür */
  font-size: 1.2rem;
  color: rgba(0, 0, 0, 0.1); /* Şeffaflık ayarı */
  z-index: 1; /* Diğer içeriklerin altında kalması için */
  pointer-events: none; /* Tıklanamaz hale getir */
}

.header {
  margin-block: 0.5cm 0.5cm /* Müşteri bilgilerini 0.5 cm aşağı kaydır */
}

.header,
.barcode,
.shipping-logo-container {
  position: relative; /* Üstte kalması için */
  z-index: 2; /* Watermark altında */
}



.customer-name {
  padding: 0;
  margin: 0;
  font-size: 1em;
}

.location {
  padding: 0;
  margin: 0;
  font-size: 0.8em;
}

.logos {
  display: flex;
  justify-content: center;
  padding: 0;
  margin: 0;
}

.logo {
  margin: 0;
  block-size: auto;
  inline-size: 120px; /* Platform logosunun boyutunu ayarlayın */
}

.n11-logo {
  inline-size: 70px;
}

.shipping-logo-container {
  display: flex;
  justify-content: center;
  padding: 0;
  margin: 0;
   width: 100%;
  margin-block-start: 0.5cm; /* Kargo logosu için üstten boşluk */
}

.shipping-logo {
  margin: 0;
  max-width: 100%;
  block-size: auto;
  inline-size: 250px; /* Kargo firmasının logosunun boyutunu ayarlayın */
 
}

.barcode {
  padding: 0;
  margin: 0;
  text-align: center;
}

.barcode img {
  block-size: auto; /* Barkod boyutunu ayarlayın */
  max-inline-size: 100%;
}

.footer {
  text-align: center;
}

.stock-code {
  padding: 0;
  margin: 0;
  font-size: 0.8em;
}
    `,scanStyles:!1,honorMarginPadding:!1})}return(p,a)=>(_(),w("div",null,[(_(!0),w(A,null,z(p.items,(l,i)=>(_(),w("div",{key:i,class:"label",style:{display:"none"}},[v("div",De,[v("p",Te,E(p.customerName),1),v("p",Ie,E(p.city)+" / "+E(p.district),1)]),v("div",ze,[v("img",{src:r(),alt:"Kargo Firması Logo",class:"shipping-logo"},null,8,Ae)]),v("div",Be,[p.platform==="n11"?(_(),w("img",Ne)):j("",!0),p.platform==="hepsiburada"?(_(),w("img",Ve)):j("",!0),p.platform==="pazarama"?(_(),w("img",$e)):j("",!0)]),v("div",Ue,[v("img",{src:`https://barcode.tec-it.com/barcode.ashx?data=${p.barcodeNumber}&code=Code128`,alt:"Barkod"},null,8,Ke)]),v("div",He,[v("p",We," Stok Kodu: "+E(l.product.productCode),1)])]))),128)),B(v("small",Re,[B(h(V,{elevated:"",color:"error",class:"font-weight-medium mt-2",size:"small",label:""},{default:y(()=>[M(" Kontrol Edilecek ("+E(p.itemCheckedCount)+") ",1)]),_:1},512),[[N,p.orderChecked===0]]),B(h(V,{elevated:"",color:"success",class:"font-weight-medium mt-2",size:"small",label:""},{default:y(()=>[M(" Kontrol Edildi ")]),_:1},512),[[N,p.orderChecked===1]])],512),[[N,p.isPrinted===1]]),v("div",Fe,[v("span",null,[v("a",{href:"#",class:"print-link",onClick:Y(c,["prevent"])},E(p.isPrinted===0?"Etiket Yazdır":"Tekrar Yazdır"),1)])])]))}}),Ge=q(Je,[["__scopeId","data-v-762c0154"]]),Ye={class:"d-flex"},Xe={key:0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/N11_logo.svg/320px-N11_logo.svg.png",alt:"n11 Logo",class:"logo n11-logo",style:{"inline-size":"50px"}},Ze={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Hepsiburada_logo_official.svg/320px-Hepsiburada_logo_official.svg.png",alt:"Hepsiburada Logo",class:"logo",style:{"inline-size":"90px"}},Qe={key:2,src:"https://birfatura.com/wp-content/uploads/2022/03/pazarama-pazaryeri-entegrasyonu.svg",alt:"Pazarama Logo",class:"logo",style:{"inline-size":"90px"}},qe={class:"d-flex"},et={class:"d-flex flex-column"},tt={class:"d-block font-weight-medium text-high-emphasis text-truncate"},ot={class:"d-flex flex-column"},it={class:"d-block font-weight-small text-high-emphasis text-truncate",style:{"font-size":"14px"}},nt={style:{"margin-block-end":"0"}},rt={class:"d-flex flex-column"},at=I({__name:"SiparisListesiSecond",setup(S,{expose:P}){const n=ee(),{$toast:u}=de(),o=x(""),r=x(""),s=x(!1),c=[{title:"S/N",value:"siparisNo"},{title:"Platform",key:"platformId"},{title:"Sipariş Bilgileri",key:"orderDate"},{title:"Müşteri Bilgileri",key:"buyer"},{title:"Ürün Bilgileri",key:"items"},{title:"Kargo Bilgileri",key:"shippingCompanyName"}],p=x({deger:"",item:0,title:"",message:""}),a=async d=>{d.deger==="approve_order"&&await n.addHakedis(d.item).then(()=>{s.value=!1,n.options.status=1,n.fetchData()})},l=d=>{n.options.page=d.page??0,n.options.search=d.search??"",n.options.status=2,n.fetchData()},i=d=>{n.markAsPrinted(d)},t=async d=>{await n.markAsChecked(d).then(()=>{n.error!==""&&u.open({message:n.error,type:"error",position:"top"}),r.value=""})},g=()=>{r.value&&t(r.value).then(()=>{n.error!==""&&u.open({message:n.error,type:"error",position:"top"}),r.value=""})};return P({updateDataTable:l}),(d,e)=>{const m=W,b=F,k=Ge;return _(),D(U,null,{default:y(()=>[h(m,{modelValue:O(n).loading,"onUpdate:modelValue":e[0]||(e[0]=f=>O(n).loading=f)},null,8,["modelValue"]),h(b,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=f=>s.value=f),deger:p.value.deger,item:p.value.item,title:p.value.title,message:p.value.message,onClickedAgree:a},null,8,["modelValue","deger","item","title","message"]),h(T,{cols:"12",md:"12"},{default:y(()=>[h($,null,{default:y(()=>[h(fe,null,{default:y(()=>[h(pe,{onSubmit:Y(()=>{},["prevent"])},{default:y(()=>[h(U,null,{default:y(()=>[h(T,{cols:"12",md:"12"},{default:y(()=>[h(me,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=f=>r.value=f),"prepend-inner-icon":"ri-barcode-line",label:"Son Kontrol için Barkod Okut",placeholder:"Son Kontrol için Barkod Okut",onKeyup:se(g,["enter"])},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),h(T,{cols:"12",md:"12"},{default:y(()=>[h($,null,{default:y(()=>[h(R,{headers:c,items:O(n).confirmedOrders,"items-length":O(n).totalItems,loading:O(n).loading,search:o.value,"item-value":"id",class:"text-no-wrap","hide-default-footer":"","onUpdate:options":l},{"item.siparisNo":y(({index:f})=>[M(E(f+1),1)]),"item.platformId":y(({item:f})=>[v("div",Ye,[f.platformId===1?(_(),w("img",Xe)):j("",!0),f.platformId===2?(_(),w("img",Ze)):j("",!0),f.platformId===3?(_(),w("img",Qe)):j("",!0)])]),"item.orderDate":y(({item:f})=>[v("div",qe,[v("span",null,E(f.orderDate),1)])]),"item.buyer":y(({item:f})=>[v("div",et,[v("span",tt,E(f.buyer.fullName),1),v("small",null,E(f.buyer.adresses[0].district)+" / "+E(f.buyer.adresses[0].city),1)])]),"item.items":y(({item:f})=>[h(X,null,{default:y(()=>[(_(!0),w(A,null,z(f.items,C=>(_(),D(Z,{key:C.id,subtitle:`${C.product.productCode} X ${C.orderable.quantity}`,title:C.product.productTitle},{prepend:y(()=>[h(Q,{color:"grey",rounded:"0",size:"64"},{default:y(()=>[h(J,{src:C.product.cover_image.url},null,8,["src"])]),_:2},1024)]),_:2},1032,["subtitle","title"]))),128))]),_:2},1024)]),"item.shippingCompanyName":y(({item:f})=>[v("div",ot,[v("span",it,E(f.shippingCompanyName),1),v("small",nt,[h(V,{elevated:"",color:"success",size:"small",class:"mt-1",label:""},{default:y(()=>[M(E(f.campaignNumber),1)]),_:2},1024)]),v("div",rt,[h(k,{platform:f.platformId===1?"n11":f.platformId===2?"hepsiburada":"pazarama",district:f.buyer.adresses[0].district,city:f.buyer.adresses[0].city,"shipping-company-name":f.shippingCompanyName,"barcode-number":f.campaignNumber,"customer-name":f.buyer.fullName,items:f.items,"order-id":f.id,"is-printed":f.is_printed,"item-checked-count":f.is_checked_count,"order-checked":f.is_checked,onPrintDone:i},null,8,["platform","district","city","shipping-company-name","barcode-number","customer-name","items","order-id","is-printed","item-checked-count","order-checked"])])])]),_:1},8,["items","items-length","loading","search"])]),_:1})]),_:1})]),_:1})}}}),Pt=I({__name:"siparisler",setup(S){const P=ce(),n=x(P.params.tab),u=x(),o=x(),r=[{tab:"account",title:"Yeni Siparişler",icon:"ri-group-line"},{tab:"security",title:"Kargolanacak Siparişler (Onaylanmış)",icon:"ri-lock-line"}],s=c=>{c==="account"&&u.value.updateOptions({page:1,itemsPerPage:100,sortBy:[],sortDesc:[],groupBy:[],depo_id:0,search:"",status:1}),c==="security"&&o.value.updateDataTable({page:1,itemsPerPage:100,sortBy:[],sortDesc:[],groupBy:[],depo_id:0,search:"",status:2})};return(c,p)=>(_(),w("div",null,[h(ye,{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=a=>n.value=a),"show-arrows":""},{default:y(()=>[(_(),w(A,null,z(r,a=>h(ge,{key:a.icon,value:a.tab,onClick:l=>s(a.tab)},{default:y(()=>[h(G,{size:"20",start:"",icon:a.icon},null,8,["icon"]),M(" "+E(a.title),1)]),_:2},1032,["value","onClick"])),64))]),_:1},8,["modelValue"]),h(he,{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=a=>n.value=a),class:"mt-5 disable-tab-transition",disabled:""},{default:y(()=>[h(H,{value:"account"},{default:y(()=>[h(Oe,{ref_key:"siparisListesi",ref:u},null,512)]),_:1}),h(H,{value:"security"},{default:y(()=>[h(at,{ref_key:"siparisListesiSecond",ref:o},null,512)]),_:1})]),_:1},8,["modelValue"])]))}});export{Pt as default};
